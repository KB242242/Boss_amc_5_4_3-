    //declaration des variables globales
	
	function controle_saisies (champ,format){
		var exotique = "()°+&?/\{}!§¤$£*µ,:;'<>[]#~"
		var retour=0;
		var trimchamp = champ.trim();
		var trimformat= format.trim();
		var f= trimformat.split(";");
		var message;
		var msg = new Array();
		
		switch(f[0]) {
			case "":
			// pas de definition de format
			message='0';
			break;
			case "string":
			// (string;exlus;20;null) chaine de caracteres (tous), taille max 
				max=f[1];
				nullable = f[2];
				
				msg[0]= '0';
				msg[1] = "Le champ ne doit pas être vide !";
				msg[2] = "Le champ ne doit pas contenir plus de "+ max + " caractères!";

				// test is null
				isNotNull = chaineEgale(nullable,"null")? false:true;
				taille = trimchamp.length;
				retour = taille==0 && isNotNull ?1:0;
				// test taille
				if(retour==0){retour = (taille <= max)?0:2;}
				message=msg[retour];
			break;
			case "integer":
			// nombre entier 
				nullable = f[1];
				min = f[2];
				max = f[3];
				msg[0]= '0';
				msg[1] = "Le champ ne doit pas être vide !";
				msg[2] = "Le champ doit être un nombre entier !";
				msg[3] = "La valeur doit être comprise entre (" + min + "-"+  max +")"
				// test is null
				isNotNull = chaineEgale(nullable,"null")? false:true;
				taille = trimchamp.length;
				retour = (taille==0 && isNotNull)?1:0;
				//test integer
				if(retour==0 && taille > 0 ){retour = validateInteger(trimchamp)?0:2;}
				message=msg[retour];
			break;
			case "float":
				nullable = f[1];
				
				msg[0]= '0';
				msg[1] = "Le champ ne doit pas être vide !"; 
				msg[2] = "Le champ doit être decimal avec un point pour separateur !";
				
				// test is null
				isNotNull = chaineEgale(nullable,"null")? false:true;
				taille = trimchamp.length;
				retour = taille==0 && isNotNull ?1:0;
				// test is float
				if(retour==0 && taille > 0 ){retour = (validateFloat(trimchamp)&& !validateInteger(trimchamp))?0:2;}
				message=msg[retour];
			
			break;
			case "phone":
				nullable = f[1];
				
				msg[0]= '0';
				msg[1] = "Le champ ne doit pas être vide !"; 				
				msg[2] = "Le format telephone n'est pas valide!";

				// test is null
				isNotNull = chaineEgale(nullable,"null")? false:true;
				taille = trimchamp.length;
				retour = taille==0 && isNotNull ?1:0;
				// test is phone
				if(retour==0 && taille > 0){retour = validatePhoneCongo(trimchamp)?0:2;}
				message=msg[retour];
			break;
			case "mail":
				nullable = f[1];

				msg[0]= '0';
				msg[1] = "Le champ ne doit pas être vide !"; 								
				msg[2] = "Le format mail n'est pas valide!";
				// test is null
				isNotNull = chaineEgale(nullable,"null")? false:true;
				taille = trimchamp.length;
				retour = taille==0 && isNotNull ?1:0;
				// test is mail
				
				if(retour==0 && taille > 0){retour = validateEmail(trimchamp)?0:2;}
				message=msg[retour];
			break;
			case "date":
				nullable = f[1];

				msg[0]= '0';
				msg[1] = "Le champ ne doit pas être vide !"; 								
				msg[2] = "Le format date n'est pas valide!";
				// test is null
				isNotNull = chaineEgale(nullable,"null")? false:true;
				taille = trimchamp.length;
				retour = taille==0 && isNotNull ?1:0;
				// test is date
				if(retour==0 && taille > 0){retour = validateDate(trimchamp)?0:2;}
				message=msg[retour];
			break;
				case "hh:mn":
				nullable = f[1];

				msg[0]= '0';
				msg[1] = "Le champ ne doit pas être vide !"; 								
				msg[2] = "Le format heure n'est pas valide!";
				// test is null
				isNotNull = chaineEgale(nullable,"null")? false:true;
				taille = trimchamp.length;
				retour = taille==0 && isNotNull ?1:0;
				// test is heure
				if(retour==0 && taille > 0){retour = validateHHMN(trimchamp)?0:2;}
				message=msg[retour];
			break;
		}
	
		return message;
	}
	

	function teste_exclus(Exclus, chaine){
		// chaque mot exclus sont separes par des points virgules;
		// si un des mots appartient a la chaine, la reponse est true
		var f= Exclus.split(";");
		var retour = false;
		for (var i = 0; i < f.length; i++) {
				xx= f[i];
				yy = chaine.indexOf(xx,0);
				if(yy > -1){
					retour = true;
					break;
				}
		}
		return retour;
	}	
	function teste_inclus(Inclus, chaine){
		// chaque caratere ou mot séparés par ";" doit être inclus dans la chaine
		// si un des mots n'appartient pas a la chaine, la reponse est false

		var f= Inclus.split(";");
		var retour = true;
		for (var i = 0; i < f.length; i++) {
				xx= f[i];
				yy = chaine.indexOf(xx,0);
				if(yy == -1){
					retour = false ;
					break;
				}
		}
		return retour;
	}

	function chaineEgale(chaine1, chaine2){
		// teste l egalite de deux chaine 
		var retour = true;
		var tailleChaine1 = chaine1.length;
		var tailleChaine2 = chaine2.length;
		retour = (tailleChaine1 == tailleChaine2)?retour:false;
		if (retour){
			// si meme taille 
			for (i=0; i<tailleChaine1 ; i++){
				a =chaine1.charCodeAt(i);
				b=chaine2.charCodeAt(i);
				retour= (a == b)?retour:false;
				if (!retour)
					break;
				
			}
		}
		
		return retour;
	}
	function validateInteger(nombre) {
		var re = /^[+|-]?\d+$/ ; 
		return re.test(nombre);
	}
	 
	function validateFloat(nombre) {
		var re = /^[+|-]?[0-9]+(\.[0-9][0-9]?)?/;  
		return re.test(nombre);
		///^[0-9]+(.[0-9]+)?$/ ;
	}
	function validatePhoneCongo(phone) {
		var re = /^([0-9]{2}\s){3}[0-9]{3}$/; // ^([0-9]{2}){3} [0-9]{3} /;///^(\([0-9]{3}\) |[0-9]{3}-)[0-9]{3}-[0-9]{4}/;
		return re.test(phone);
	}
	function validateEmail(email) {
		var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
		return re.test(email);
	}
	
	function validateDate(theDate) {
		var re = /^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/;
		return re.test(theDate);
	}
	function validateHHMN(hhmn) {
		var f= hhmn.split(":");
		retour = (f[0].length >0) && (f[0].length <3) && (f[1].length >0) && (f[1].length <3)?true:false;
		if(retour) {retour = (f[0]< 24)&& (f[1]< 60)? true:false;}
		return retour;
	}
	
	
